
mutex1
cond1
mutex2
signed



lock(mutx2)
signed=true
unlock(mutex2)
signal(cond1)



bool b;
lock(mutex2)
b=signed;
unlock(mutex2)

if(!b)
{
  wait(cond1,mutex1)
}
